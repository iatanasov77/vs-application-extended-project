{% if formClass is not defined %}
    {% set formClass = 'modal__form' %}
{% endif %}

{% if paymentMethod.gateway.factoryName == 'stripe_checkout' or paymentMethod.gateway.factoryName == 'stripe_js' %}
    {% set formId = 'credit_card_form' %}
    {% set formAction = '' %}
    {% set captureKey = paymentMethod.gateway.config.publishable_key %}
{% elseif paymentMethod.gateway.factoryName == 'vendo_sdk' %}
    {% set formId = 'vendo_credit_card_form' %}
    {% set formAction = form.vars.value.captureUrl %}
    {% set captureKey = '' %}
{% else %}
    {% set formId = 'payum_credit_card_form' %}
    {% set formAction = '' %}
    {% set captureKey = '' %}
{% endif %}

{{ form_start( form, {
    'action': formAction,
    'method': formMethod,
    'attr': {
        'class': formClass,
        'id': formId
    }
} ) }}
    {{ form_widget( form.captureUrl, {'attr': {'data-captureKey': captureKey}} ) }}
    {{ form_widget( form.factoryName ) }}
    
    <h4 class="modal__title">
        <small>{{ 'vs_payment.template.credit_card_description' | trans( {},'VSPaymentBundle' ) }}</small>
    </h4>
    
    <div class="form-group">
        {{ form_label( form.name, null, {'label_attr': {'class': 'col-form-label'}} ) }}
        {{ form_widget( form.name, {'attr': {'class': 'form-control'}} ) }}
    </div>
    
    <div class="form-group">
        {{ form_label( form.number, null, {'label_attr': {'class': 'col-form-label'}} ) }}
        {{ form_widget( form.number, {'attr': {'class': 'form-control'}} ) }}
    </div>
    
    <div class="row span9">
        <div class="col-2 me-2">
            <div class="form-group">
                {{ form_label( form.ccmonth, null, {'label_attr': {'class': 'col-form-label'}} ) }}
                {{ form_widget( form.ccmonth, {'attr': {'class': 'form-control credit-card-exp-select'}} ) }}
            </div>
        </div>
        <div class="col-2 me-2">
            <div class="form-group">
                {{ form_label( form.ccyear, null, {'label_attr': {'class': 'col-form-label'}} ) }}
                {{ form_widget( form.ccyear, {'attr': {'class': 'form-control credit-card-exp-select'}} ) }}
            </div>
        </div>
        <div class="col-2">
            <div class="form-group">
                {{ form_label( form.cvv, null, {'label_attr': {'class': 'col-form-label'}} ) }}
                {{ form_widget( form.cvv, {'attr': {'class': 'form-control credit-card-exp-select'}} ) }}
            </div>
        </div>
    </div>
    
    {{ form_widget(form.btnContinue, {
        'attr': {'class': 'btn btn-success', 'id': form.btnContinue.vars.id},
        'id': form.btnContinue.vars.id
    }) }}
 
{{ form_end( form, {'render_rest': false} ) }}